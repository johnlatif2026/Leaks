<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>الصفحة الرئيسية</title>
<style>
  body { font-family: Arial; text-align:center; margin-top:50px; }
  img { max-width:200px; }
</style>
</head>
<body>
<h2>مرحبًا، اكتب اسمك للمتابعة:</h2>
<input type="text" id="visitorName" placeholder="اسمك" required>
<button onclick="goNext()">دخول</button>

<div id="data" style="margin-top:50px;"></div>

<script>
function goNext() {
  const name = document.getElementById('visitorName').value.trim();
  if(!name) return alert('الرجاء كتابة اسمك');
  localStorage.setItem('visitorName', name);
  fetchData();
}

async function fetchData() {
  const res = await fetch('/api/data');
  const data = await res.json();
  const visitorName = localStorage.getItem('visitorName');
  document.getElementById('data').innerHTML = `
    <h1>${visitorName}</h1>
    ${data.name ? `<h2>${data.name}</h2><p>${data.description}</p>${data.imageUrl ? `<img src="${data.imageUrl}"/>` : ''}` : ''}
  `;
}
</script>
</body>
</html>
